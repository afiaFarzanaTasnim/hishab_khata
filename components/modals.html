<!-- Product Modal -->
<div id="productModal" class="modal hidden">
  <div class="modal-overlay"></div>
  <div class="modal-content">
    <div class="modal-header">
      <h3 id="productModalTitle">Add Product</h3>
      <button class="modal-close"><i class="fas fa-times"></i></button>
    </div>
    <div class="modal-body">
      <div class="form-group">
        <label>Product Name</label>
        <input id="modalProductName" placeholder="Enter product name" />
      </div>
      <div class="form-group">
        <label>SKU</label>
        <input id="modalProductSku" placeholder="e.g., SKU1234" />
      </div>
      <div class="form-group">
        <label>Initial Stock</label>
        <input id="modalProductStock" type="number" min="0" placeholder="0" />
      </div>
      <div class="form-group">
        <label>Buying Price</label>
        <input id="modalProductBuy" type="number" min="0" step="0.01" placeholder="0.00" />
      </div>
      <div class="form-group">
        <label>Selling Price</label>
        <input id="modalProductSell" type="number" min="0" step="0.01" placeholder="0.00" />
      </div>
      <div class="form-group">
        <label>Low Stock Threshold (optional)</label>
        <input id="modalProductLow" type="number" min="0" placeholder="5" />
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn-ghost modal-cancel">Cancel</button>
      <button id="modalProductSave" class="btn-primary">Save Product</button>
    </div>
  </div>
</div>

<!-- Sales Report Modal -->
<div id="salesReportModal" class="modal hidden">
  <div class="modal-overlay"></div>
  <div class="modal-content modal-large">
    <div class="modal-header">
      <h3>Sales Report</h3>
      <button class="modal-close"><i class="fas fa-times"></i></button>
    </div>
    <div class="modal-body">
      <div id="salesReportContent"></div>
    </div>
    <div class="modal-footer">
      <button class="btn-ghost modal-cancel">Close</button>
      <button id="exportReportBtn" class="btn-primary">
        <i class="fas fa-download"></i>
        Export Report
      </button>
    </div>
  </div>
</div>

<!-- Camera Modal -->
<div id="cameraModal" class="modal hidden">
  <div class="modal-overlay"></div>
  <div class="modal-content">
    <div class="modal-header">
      <h3>Scan Product with Camera</h3>
      <button class="modal-close"><i class="fas fa-times"></i></button>
    </div>
    <div class="modal-body">
      <div class="camera-container">
        <video id="cameraVideo" autoplay playsinline></video>
        <canvas id="cameraCanvas"></canvas>
        <div class="camera-preview hidden" id="cameraPreview">
          <img id="previewImage" src="" alt="Captured image">
          <p>Image captured! Fill in product details below.</p>
        </div>
      </div>

      <div class="camera-controls">
        <button id="startCamera" class="btn-primary">
          <i class="fas fa-camera"></i>
          Start Camera
        </button>
        <button id="captureBtn" class="btn-secondary hidden">
          <i class="fas fa-camera-retro"></i>
          Capture
        </button>
        <button id="retakeBtn" class="btn-ghost hidden">
          <i class="fas fa-redo"></i>
          Retake
        </button>
      </div>

      <!-- Product form appears after capture -->
      <div id="productForm" class="hidden" style="margin-top: 20px;">
        <div class="form-group">
          <label>Product Name</label>
          <input id="scannedProductName" placeholder="Enter product name from scan">
        </div>
        <div class="form-group">
          <label>SKU</label>
          <input id="scannedProductSku" placeholder="SKU will be auto-generated">
        </div>
        <div class="form-group">
          <label>Initial Stock</label>
          <input id="scannedProductStock" type="number" min="0" value="1">
        </div>
        <div class="form-group">
          <label>Buying Price</label>
          <input id="scannedProductBuy" type="number" min="0" step="0.01" placeholder="0.00">
        </div>
        <div class="form-group">
          <label>Selling Price</label>
          <input id="scannedProductSell" type="number" min="0" step="0.01" placeholder="0.00">
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn-ghost modal-cancel">Cancel</button>
      <button id="saveScannedProduct" class="btn-primary hidden">
        <i class="fas fa-save"></i>
        Save Product
      </button>
    </div>
  </div>
</div>